<!DOCTYPE html>
<html lang="uk">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–±—Ä–æ—á–µ—Å–Ω–æ—Å—Ç—ñ ‚Äî –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó</title>
<style>
/* ---------- AI-styled animated background ---------- */
html,body{height:100%; margin:0}
body{
  font-family: Arial, Helvetica, sans-serif;
  color:#0b1220;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(0,87,183,.25), transparent 60%),
    radial-gradient(1200px 600px at 90% 110%, rgba(255,215,0,.25), transparent 60%),
    linear-gradient(135deg,#0b1220,#0f172a);
  overflow:hidden;
}
/* animated grid overlay */
.bg-grid{
  position:fixed; inset:0; pointer-events:none; z-index:0;
  background:
    repeating-linear-gradient(90deg, rgba(255,255,255,.04) 0 1px, transparent 1px 60px),
    repeating-linear-gradient(0deg, rgba(255,255,255,.04) 0 1px, transparent 1px 60px);
  animation: drift 12s linear infinite;
  opacity:.9;
}
@keyframes drift{
  0%{transform:translate(0,0) scale(1)}
  50%{transform:translate(-10px,-10px) scale(1.02)}
  100%{transform:translate(0,0) scale(1)}
}
/* glowing nodes */
.bg-nodes{
  position:fixed; inset:0; pointer-events:none; z-index:0;
  background:
    radial-gradient(10px 10px at 20% 30%, rgba(6,182,212,.8), transparent 60%),
    radial-gradient(12px 12px at 70% 60%, rgba(99,102,241,.8), transparent 60%),
    radial-gradient(8px 8px at 40% 80%, rgba(16,185,129,.8), transparent 60%);
  filter: blur(10px);
  opacity:.35;
}
/* ---------- Main container ---------- */
.app{position:relative; z-index:1; padding:20px}
.card{
  background: rgba(255,255,255,.9);
  border:1px solid rgba(0,0,0,.15);
  border-radius:16px;
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
  max-width:920px; margin:60px auto; padding:18px;
}
h1{margin:0 0 8px 0}
.small{color:#475569}
label{display:block; font-weight:700; margin:8px 0 6px}
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.input{
  flex:1 1 520px;
  display:flex; align-items:center; gap:10px;
  background:#fff; border:1px solid rgba(0,0,0,.15); border-radius:12px; padding:10px 12px;
  box-shadow: inset 0 0 0 rgba(0,0,0,0);
}
.input input{
  flex:1; min-width:260px; border:0; outline:none; font-size:14px;
}
.btn{
  appearance:none; border-radius:12px; border:1px solid rgba(0,0,0,.14);
  padding:10px 14px; cursor:pointer; font-weight:700;
  background:linear-gradient(180deg, #0b7bf2, #0a5fd6); color:#fff;
  box-shadow:0 3px 0 rgba(0,0,0,.15), 0 10px 20px rgba(2,132,199,.25);
  transition:transform .05s ease, box-shadow .2s ease;
}
.btn:active{transform:translateY(1px)}
.status{margin-top:8px; font-size:13px}
.badge{display:inline-block; padding:3px 8px; border-radius:999px; background:#eef; color:#0a5fd6; font-weight:700; font-size:12px}
/* Animated robot emoji/SVG */
.robot{
  width:60px; height:60px; border-radius:14px;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(circle at 30% 30%, #e2e8f0, #cbd5e1);
  box-shadow: 0 10px 24px rgba(0,0,0,.25), inset 0 3px 6px rgba(255,255,255,.75);
  animation: bob 2.2s ease-in-out infinite;
  position:relative;
}
.robot:before{content:"ü§ñ"; font-size:32px}
.robot:after{
  content:""; position:absolute; left:8px; right:8px; bottom:-8px; height:8px; border-radius:999px;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.25), transparent 60%);
  filter: blur(2px); opacity:.6;
}
@keyframes bob{ 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-6px)} }
/* ---------- Lock overlay ---------- */
.lock{
  position:fixed; inset:0; z-index:5;
  background: radial-gradient(1200px 600px at 50% -10%, rgba(11,123,242,.25), transparent 60%), rgba(2,6,23,.92);
  display:flex; align-items:center; justify-content:center;
  backdrop-filter: none;
}
.lock-box{
  width: min(92%, 420px);
  background: rgba(255,255,255,.98);
  border:1px solid rgba(0,0,0,.25);
  border-radius:16px; padding:18px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  text-align:center;
}
.lock h2{margin:0 0 12px 0}
.lock input{width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.2); font-size:14px}
.lock .btn{width:100%; margin-top:10px}
.lock .err{display:none; color:#b91c1c; margin-top:8px; font-weight:700}
.shake{animation:shake .28s linear 1}
@keyframes shake{ 0%,100%{transform:translateX(0)} 25%{transform:translateX(-6px)} 75%{transform:translateX(6px)} }
.footer{margin-top:10px; font-size:12px; color:#475569}
/* Responsive */
@media (max-width:640px){
  .row{flex-direction:column; align-items:stretch}
  .robot{align-self:center; margin-top:8px}
}
</style>
<noscript><div style="padding:10px;background:#7f1d1d;color:#fff">–î–ª—è —Ä–æ–±–æ—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —É–≤—ñ–º–∫–Ω—ñ—Ç—å JavaScript.</div></noscript>
</head>
<body>
<div class="bg-grid"></div>
<div class="bg-nodes"></div>

<!-- Lock overlay -->
<div class="lock" id="lock">
  <div class="lock-box" id="lockBox">
    <h2>–î–æ—Å—Ç—É–ø –∑–∞ –ø–∞—Ä–æ–ª–µ–º</h2>
    <p class="small">–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.</p>
    <input id="pwd" type="password" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="current-password" />
    <button class="btn" id="unlockBtn" type="button">–í—ñ–¥–∫—Ä–∏—Ç–∏</button>
    <div class="err" id="lockErr">–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å</div>
    <div class="footer">–ü—ñ–¥–∫–∞–∑–∫–∞: –¥–∞—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ –î–î.–ú–ú.–†–†–†–†</div>
  </div>
</div>

<div class="app" id="app" style="display:none">
  <div class="card">
    <h1>–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–±—Ä–æ—á–µ—Å–Ω–æ—Å—Ç—ñ</h1>
    <div class="small">–ó–∞–≤–∞–Ω—Ç–∞–∂ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—é ‚Äî —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–¥—ñ—à–ª–µ –π–æ–≥–æ –¥–æ Google Sheets</div>

    <label for="url">–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–±—Ä–æ—á–µ—Å–Ω–æ—Å—Ç—ñ. –ó–∞–≤–∞–Ω—Ç–∞–∂ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—é</label>
    <div class="row">
      <div class="input">
        <span class="badge">URL</span>
        <input id="url" type="url" placeholder="https://..." />
      </div>
      <button class="btn" id="sendBtn" type="button">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
      <div class="robot" title="AI assistant"></div>
    </div>
    <div class="status" id="status">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –¥—ñ—ó‚Ä¶</div>

    <hr style="margin:18px 0">

    <details>
      <summary><b>–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∑ Google Sheets</b></summary>
      <p class="small">–í–∞—Ä—ñ–∞–Ω—Ç –ê (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ): <b>Google Apps Script (Web App)</b> ‚Äî –≤—Å—Ç–∞–≤–∏—Ç–∏ URL –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, —â–æ –∑–∞–ø–∏—Å—É—î —Ä—è–¥–æ–∫ —É –≤–∞—à Google Sheet.</p>
      <div class="row">
        <div class="input">
          <span class="badge">Webhook</span>
          <input id="endpoint" type="url" placeholder="https://script.google.com/macros/s/DEPLOYMENT_ID/exec" />
        </div>
        <button class="btn" id="saveCfg" type="button">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
      </div>
      <p class="small">–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É Apps Script (—Å—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç, –≤—Å—Ç–∞–≤—Ç–µ, –≤–∫–∞–∂—ñ—Ç—å ID —Ç–∞–±–ª–∏—Ü—ñ, –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ ‚Üí –ù–æ–≤–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è ‚Üí –¢–∏–ø ¬´–í–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫¬ª, –î–æ—Å—Ç—É–ø ¬´Anyone with the link¬ª):</p>
      <pre style="white-space:pre-wrap;background:#0b1220;color:#e5e7eb;padding:10px;border-radius:8px; overflow:auto">
function doPost(e){
  try{
    var data = JSON.parse(e.postData.contents);
    var ss = SpreadsheetApp.openById("YOUR_SHEET_ID"); // <-- –í–∫–∞–∂—ñ—Ç—å ID
    var sh = ss.getSheetByName("–õ–∏—Å—Ç1") || ss.getSheets()[0];
    sh.appendRow([new Date(), data.link || "", data.note || "", data.ua || ""]);
    return ContentService.createTextOutput(JSON.stringify({ok:true})).setMimeType(ContentService.MimeType.JSON);
  }catch(err){
    return ContentService.createTextOutput(JSON.stringify({ok:false,error:String(err)})).setMimeType(ContentService.MimeType.JSON);
  }
}</pre>
      <p class="small">–í–∞—Ä—ñ–∞–Ω—Ç –ë: <b>Google Form</b> (–ø—Ä–∏–≤‚Äô—è–∑–∞–Ω–∞ –¥–æ Sheets) ‚Äî –≤–∫–∞–∂—ñ—Ç—å endpoint <code>formResponse</code> —Ç–∞ <code>entry.XXXX</code> –∫–ª—é—á —É —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –Ω–∏–∂—á–µ.</p>
      <details>
        <summary>–†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (Google Form)</summary>
        <div class="row">
          <div class="input">
            <span class="badge">Form action</span>
            <input id="gform" type="url" placeholder="https://docs.google.com/forms/d/e/FORM_ID/formResponse" />
          </div>
          <div class="input">
            <span class="badge">entry.* key</span>
            <input id="gentry" type="text" placeholder="entry.1234567890" />
          </div>
          <button class="btn" id="saveFormCfg" type="button">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ—Ä–º—É</button>
        </div>
      </details>
    </details>

  </div>
</div>

<script>
"use strict";
(function(){
  function $(id){ return document.getElementById(id); }
  function save(k,v){ try{ localStorage.setItem("integrity_cfg_"+k, v); }catch(e){} }
  function load(k){ try{ return localStorage.getItem("integrity_cfg_"+k); }catch(e){ return null; } }

  /* ---------- Lock logic ---------- */
  var PASS="26.08.2025"; // –∑–∞—à–∏—Ç–∏–π –ø–∞—Ä–æ–ª—å
  function openApp(){
    var lock=$("lock"), app=$("app");
    if(lock) lock.style.display="none";
    if(app) app.style.display="";
  }
  var unlock = function(){
    var v = ($("pwd") && $("pwd").value) || "";
    if(v===PASS){ openApp(); } else { var b=$("lockBox"); if(b){ b.className+=" shake"; setTimeout(function(){ b.className=b.className.replace(/\s?shake/g,""); }, 280);} var e=$("lockErr"); if(e){ e.style.display="block"; } }
  };
  if($("unlockBtn")) $("unlockBtn").onclick = unlock;
  if($("pwd")) $("pwd").onkeydown = function(ev){ ev=ev||window.event; if((ev.key&&ev.key==="Enter") || ev.keyCode===13){ unlock(); } };

  /* ---------- UI + Sheets integration ---------- */
  function setStatus(msg, ok){
    var s=$("status"); if(!s) return;
    s.innerHTML = (ok? "‚úÖ " : "‚ÑπÔ∏è ") + msg;
    s.style.color = ok? "#15803d" : "#0b1220";
  }

  // Load saved config
  (function initCfg(){
    var ep = load("endpoint"); if(ep && $("endpoint")) $("endpoint").value = ep;
    var gf = load("gform"); if(gf && $("gform")) $("gform").value = gf;
    var ge = load("gentry"); if(ge && $("gentry")) $("gentry").value = ge;
  })();

  if($("saveCfg")) $("saveCfg").onclick = function(){
    var val = ($("endpoint") && $("endpoint").value) || "";
    save("endpoint", val||"");
    setStatus("–ó–±–µ—Ä–µ–∂–µ–Ω–æ webhook Apps Script.", true);
  };
  if($("saveFormCfg")) $("saveFormCfg").onclick = function(){
    save("gform", ($("gform") && $("gform").value) || "");
    save("gentry", ($("gentry") && $("gentry").value) || "");
    setStatus("–ó–±–µ—Ä–µ–∂–µ–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ Google Form.", true);
  };

  function isHttpUrl(u){ return /^https?:\/\//i.test(u||""); }

  function sendToAppsScript(link){
    var ep = load("endpoint") || "";
    if(!isHttpUrl(ep)){ setStatus("Webhook Apps Script –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π. –í–∫–∞–∂—ñ—Ç—å URL —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö.", false); return false; }
    try{
      var xhr = new XMLHttpRequest();
      xhr.open("POST", ep, true);
      xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");
      xhr.onreadystatechange = function(){
        if(xhr.readyState===4){
          if(xhr.status>=200 && xhr.status<300){
            setStatus("–ù–∞–¥—ñ—Å–ª–∞–Ω–æ –¥–æ Google Sheets —á–µ—Ä–µ–∑ Apps Script.", true);
          } else {
            setStatus("–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ Apps Script: "+xhr.status, false);
          }
        }
      };
      var body = JSON.stringify({ link: link, note: "–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–±—Ä–æ—á–µ—Å–Ω–æ—Å—Ç—ñ", ua: navigator.userAgent });
      xhr.send(body);
      return true;
    }catch(e){
      setStatus("–í–∏–Ω—è—Ç–æ–∫ –ø—ñ–¥ —á–∞—Å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: "+e.message, false);
      return false;
    }
  }

  function sendToGoogleForm(link){
    var form = load("gform") || "";
    var entry = load("gentry") || "";
    if(!isHttpUrl(form) || !entry){ setStatus("Google Form –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ (formResponse –∞–±–æ entry.*).", false); return false; }
    try{
      var xhr = new XMLHttpRequest();
      xhr.open("POST", form, true);
      xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");
      xhr.onreadystatechange = function(){
        if(xhr.readyState===4){
          if(xhr.status>=200 && xhr.status<400){
            setStatus("–ù–∞–¥—ñ—Å–ª–∞–Ω–æ –¥–æ Google Sheets —á–µ—Ä–µ–∑ Google Form.", true);
          } else {
            setStatus("–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ Google Form: "+xhr.status, false);
          }
        }
      };
      var params = encodeURIComponent(entry)+"="+encodeURIComponent(link);
      xhr.send(params);
      return true;
    }catch(e){
      setStatus("–í–∏–Ω—è—Ç–æ–∫ –ø—ñ–¥ —á–∞—Å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: "+e.message, false);
      return false;
    }
  }

  if($("sendBtn")) $("sendBtn").onclick = function(){
    var link = ($("url") && $("url").value) || "";
    if(!isHttpUrl(link)){ setStatus("–í—Å—Ç–∞–≤—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ http/https).", false); return; }
    // Try Apps Script first, then Google Form if not configured
    var ok = sendToAppsScript(link);
    if(!ok){ sendToGoogleForm(link); }
  };
})();
</script>
</body>
</html>
